{"version":3,"sources":["../../src/pages/meus-enderecos/meus-enderecos.module.ts","../../src/pages/meus-enderecos/meus-enderecos.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACK;AAUrD;IAAA;IAAsC,CAAC;IAA1B,uBAAuB;QARnC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,0EAAiB;aAClB;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,0EAAiB,CAAC;aAC5C;SACF,CAAC;OACW,uBAAuB,CAAG;IAAD,8BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZM;AAC4F;AAEjF;AACQ;AACxB;AAG2C;AAEvB;AAEM;AAO/D;IAaE,2BACS,EAAmB,EACnB,EAAuB,EACvB,SAA0B,EAC1B,WAA8B,EAC9B,OAAsB,EACtB,QAAkB,EAClB,MAAc,EAEd,SAA0B,EAE1B,WAAgC,EAEhC,SAA0B;QAZ1B,OAAE,GAAF,EAAE,CAAiB;QACnB,OAAE,GAAF,EAAE,CAAqB;QACvB,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,YAAO,GAAP,OAAO,CAAe;QACtB,aAAQ,GAAR,QAAQ,CAAU;QAClB,WAAM,GAAN,MAAM,CAAQ;QAEd,cAAS,GAAT,SAAS,CAAiB;QAE1B,gBAAW,GAAX,WAAW,CAAqB;QAEhC,cAAS,GAAT,SAAS,CAAiB;QAtBnC,gBAAW,GAAQ,EAAE,CAAC;QAEtB,YAAO,GAAQ,EAAE,CAAC;IAuBlB,CAAC;IAED,0CAAc,GAAd;QACE,IAAI,CAAC,GAAG,GAAG,wBAAwB,CAAC;IACtC,CAAC;IAED,oCAAQ,GAAR;QAAA,iBAMC;QALC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,UAAU,CAAC,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,2DAAG,CAAC,iBAAO;YACpG,cAAO,CAAC,GAAG,CAAC,WAAC,IAAI,mBAAG,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,IAAK,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,EAAG,EAA7C,CAA6C,CAAC;QAA/D,CAA+D,CAChE,CAAC,CAAC,SAAS,CAAC,UAAC,GAAQ;YACpB,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB;IAClB,yCAAa,GAAb,UAAc,GAAU;QAAxB,iBAyCC;QAzCa,gCAAU;QAEtB,IAAG,GAAG,IAAI,IAAI,EAAC;YAEb,IAAI,CAAC,SAAS,EAAE,CAAC;SAElB;aAAI;YAEH,IAAI,OAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBAChC,KAAK,EAAE,UAAU;gBACjB,QAAQ,EAAE,kCAAkC;gBAC5C,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,KAAK;wBACX,OAAO,EAAE,cAAI;4BACX,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,GAAG,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,GAAG,UAAU,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;wBAClF,CAAC;qBACF,EAAE;wBACD,IAAI,EAAE,UAAU;wBAChB,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,cAAI;4BACX,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBACpB,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,OAAK,CAAC,OAAO,EAAE,CAAC;SAEjB;QAED,qDAAqD;QAErD;;;;;;;;aAQK;IACP,CAAC;IAED,qCAAS,GAAT;QAAA,iBAYC;QAVC,IAAI,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,6EAAa,CAAC,CAAC;QACxD,YAAY,CAAC,OAAO,EAAE,CAAC;QAEvB,YAAY,CAAC,YAAY,CAAC,cAAI;YAC5B,wBAAwB;YACxB,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE;gBACjB,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAClC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,6CAAiB,GAAjB,UAAkB,GAAG;QAArB,iBAmEC;QAlEC,IAAI,GAAG,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBAExD,KAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;gBAEhC,IAAI,CAAC,KAAI,CAAC,iBAAiB,IAAI,sBAAsB,CAAC,IAAI,CAAC,KAAI,CAAC,iBAAiB,IAAI,mCAAmC,CAAC,EAAE;oBAEzH,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAChC,KAAK,EAAE,uBAAuB;wBAC9B,QAAQ,EAAE,EAAE;wBACZ,OAAO,EAAE,CAAC;gCACN,IAAI,EAAE,IAAI;gCACV,OAAO,EAAE;oCACP,IAAI,YAAY,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC,mFAAe,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;oCACzH,YAAY,CAAC,OAAO,EAAE,CAAC;oCAEvB,YAAY,CAAC,YAAY,CAAC,cAAI;wCAC5B,oBAAoB;oCACtB,CAAC,CAAC,CAAC;gCACL,CAAC;6BACF,CAAC;qBACL,CAAC,CAAC;oBACH,OAAK,CAAC,OAAO,EAAE,CAAC;oBAEhB,kBAAkB;oBAClB,uDAAuD;oBAEvD,wBAAwB;oBACxB,0BAA0B;oBAE1B;;;;;;;;2BAQO;oBAEP,mCAAmC;oBACnC,wEAAwE;iBAEzE;qBAAM;oBACL,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAChC,KAAK,EAAE,KAAI,CAAC,iBAAiB;wBAC7B,QAAQ,EAAE,EAAE;wBACZ,OAAO,EAAE;4BACP;gCACE,IAAI,EAAE,IAAI;gCACV,OAAO,EAAE;oCACP,KAAI,CAAC,SAAS,EAAE,CAAC;gCACnB,CAAC;6BACF;yBACF;qBACF,CAAC,CAAC;oBACH,OAAK,CAAC,OAAO,EAAE,CAAC;iBACjB;YAEH,CAAC,EAAE,UAAC,GAAG;gBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;SACpB;IAEH,CAAC;IAxKU,iBAAiB;QAJ7B,gEAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;WACG;SACnC,CAAC;gGAe4B;YACf,+DAAmB;YACZ,gEAAe;YACb,6DAAiB;YACrB,wDAAa;YACZ,sDAAQ;YACV,8DAAM;YAEH,iGAAe;YAEb,gEAAmB;YAErB,cAAe;OA1BxB,iBAAiB,CA0K7B;IAAD,CAAC;AAAA;SA1KY,iBAAiB,gB","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MeusEnderecosPage } from './meus-enderecos';\n\n@NgModule({\n  declarations: [\n    MeusEnderecosPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MeusEnderecosPage),\n  ],\n})\nexport class MeusEnderecosPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/meus-enderecos/meus-enderecos.module.ts","import { Component } from \"@angular/core\";\nimport { IonicPage, NavController, ToastController, AlertController, LoadingController, Platform, Events, ModalController } from \"ionic-angular\";\nimport { NgForm } from \"@angular/forms\";\nimport { AngularFireAuth } from \"@angular/fire/auth\";\nimport { AngularFireDatabase } from \"@angular/fire/database\";\nimport { map } from \"rxjs/operators\";\nimport * as firebase from \"firebase/app\";\n\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\n\nimport { InsertCepPage } from \"../insert-cep/insert-cep\";\n\nimport { AddEnderecoPage } from \"../add-endereco/add-endereco\";\n\n@IonicPage()\n@Component({\n  selector: 'page-meus-enderecos',\n  templateUrl: 'meus-enderecos.html',\n})\nexport class MeusEnderecosPage {\n\n  url: any;\n\n  addressList: any = [];\n\n  address: any = {};\n\n  dataSetGoogleMaps: any;\n\n  cep: any;\n  frete: any;\n\n  constructor(\n    public af: AngularFireAuth,\n    public db: AngularFireDatabase,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    public navCtrl: NavController,\n    public platform: Platform,\n    public events: Events,\n\n    public modalCtrl: ModalController,\n\n    public authService: AuthServiceProvider,\n\n    public alertCtrl: AlertController\n  ) {\n\n  }\n\n  ionViewDidLoad() {\n    this.url = \"assets/img/profile.jpg\";\n  }\n\n  ngOnInit() {\n    this.db.list(\"/users/\" + this.af.auth.currentUser.uid + \"/address\").snapshotChanges().pipe(map(changes =>\n      changes.map(c => ({ $key: c.payload.key, ...c.payload.val() }))\n    )).subscribe((res: any) => {\n      this.addressList = res;\n    });\n  }\n\n  //Selected Address\n  selectAddress(key = null) {\n    \n    if(key == null){\n\n      this.insertCep();\n\n    }else{\n      \n      let alert = this.alertCtrl.create({\n        title: \"Excluir!\",\n        subTitle: \"Você quer excluir esse endereço?\",\n        buttons: [\n          {\n            text: \"sim\",\n            handler: data => {\n              this.db.list(\"/users/\" + this.af.auth.currentUser.uid + \"/address\").remove(key);\n            }\n          }, {\n            text: \"Cancelar\",\n            role: 'cancel',\n            handler: data => {\n              console.log(data);\n            }\n          }\n        ]\n      });\n      alert.present();\n\n    }\n        \n    ///this.navCtrl.push(\"AddAddressPage\", { key : key});\n\n    /*let profileModal = this.modalCtrl.create(AddEnderecoPage, { key: key });\n    profileModal.present();\n\n    profileModal.onDidDismiss(data => {\n      console.log(data);\n      if (data.data == 1) {\n        this.navCtrl.pop();\n      }\n    });*/\n  }\n\n  insertCep() {\n\n    let profileModal = this.modalCtrl.create(InsertCepPage);\n    profileModal.present();\n\n    profileModal.onDidDismiss(data => {\n      //console.log(data.cep);\n      if (data.cep != 0) {\n        this.getDataGoogleMaps(data.cep);\n      }\n    });\n\n  }\n\n  getDataGoogleMaps(cep) {\n    if (cep != 1) {\n      this.authService.getData('googleMaps/' + cep).then((result) => {\n\n        this.dataSetGoogleMaps = result;\n\n        if ((this.dataSetGoogleMaps != 'Digite um CEP válido') && (this.dataSetGoogleMaps != 'Não fazemos entrega nessa região!')) {\n\n          let alert = this.alertCtrl.create({\n            title: 'Entregamos nesse CEP!',\n            subTitle: '',\n            buttons: [{\n                text: 'OK',\n                handler: () => {\n                  let profileModal = this.modalCtrl.create(AddEnderecoPage, { ncep: cep, nfrete: JSON.stringify(this.dataSetGoogleMaps) });\n                  profileModal.present();\n\n                  profileModal.onDidDismiss(data => {\n                    //console.log(data);\n                  });\n                }\n              }]\n          });\n          alert.present();\n\n          ///this.cep = cep;\n          ///this.frete = JSON.stringify(this.dataSetGoogleMaps);\n\n          //console.log(this.cep);\n          //console.log(this.frete);\n\n          /*let profileModal = this.modalCtrl.create(AddEnderecoPage);\n            profileModal.present();\n\n            profileModal.onDidDismiss(data => {\n              //console.log(data);\n              if(data.data == 1){\n                this.navCtrl.pop();\n              }\n            });*/\n\n          //localStorage.setItem('cep', cep);\n          //localStorage.setItem('frete', JSON.stringify(this.dataSetGoogleMaps));\n\n        } else {\n          let alert = this.alertCtrl.create({\n            title: this.dataSetGoogleMaps,\n            subTitle: '',\n            buttons: [\n              {\n                text: 'OK',\n                handler: () => {\n                  this.insertCep();\n                }\n              }\n            ]\n          });\n          alert.present();\n        }\n\n      }, (err) => {\n        console.log(err);\n      });\n    } else {\n      this.navCtrl.pop();\n    }\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/meus-enderecos/meus-enderecos.ts"],"sourceRoot":""}