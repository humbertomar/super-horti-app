{"version":3,"sources":["../../src/pages/exemplo2/exemplo2.module.ts","../../src/pages/exemplo2/exemplo2.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Exemplo2Page } from './exemplo2';\n\n@NgModule({\n  declarations: [\n    Exemplo2Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(Exemplo2Page),\n  ],\n})\nexport class Exemplo2PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/exemplo2/exemplo2.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NativeGeocoder, NativeGeocoderReverseResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder';\n\ndeclare var google;\n\n@IonicPage()\n@Component({\n  selector: 'page-exemplo2',\n  templateUrl: 'exemplo2.html',\n})\nexport class Exemplo2Page {\n\n  map: any;\n\n  GoogleAutocomplete: any;\n  autocomplete: any;\n  autocompleteItems: any;\n\n  geocoder: any;\n  markers: any;\n\n  geoAddress: string;\n\n  geoencoderOptions: NativeGeocoderOptions = {\n    useLocale: true,\n    maxResults: 5\n  };\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public zone: NgZone,\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder\n  ) {\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: '' };\n    this.autocompleteItems = [];\n\n    this.geocoder = new google.maps.Geocoder;\n    this.markers = [];\n  }\n\n  ionViewDidLoad() {\n    //console.log('ionViewDidLoad Exemplo2Page');\n  }\n\n  ionViewDidEnter(){\n    //Set latitude and longitude of some place\n    this.map = new google.maps.Map(document.getElementById('map'), {\n      center: { lat: -16.665136, lng: -49.286041 },\n      zoom: 15\n    });\n  }\n\n  updateSearchResults(){\n\n    //console.log(this.autocomplete.input);\n\n    if (this.autocomplete.input == '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({ input: this.autocomplete.input },\n    (predictions, status) => {\n\n      //console.log(predictions);\n\n      this.autocompleteItems = [];\n      this.zone.run(() => {\n        predictions.forEach((prediction) => {\n          this.autocompleteItems.push(prediction);\n        });\n      });\n    });\n  }\n\n  selectSearchResult(item){\n    //this.clearMarkers();\n    this.autocompleteItems = [];\n  \n    this.geocoder.geocode({'placeId': item.place_id}, (results, status) => {\n      if(status === 'OK' && results[0]){\n        let position = {\n            lat: results[0].geometry.location.lat,\n            lng: results[0].geometry.location.lng\n        };\n        var marker = new google.maps.Marker({\n          position: results[0].geometry.location,\n          map: this.map,\n          animation: google.maps.Animation.DROP,\n          draggable: true\n        });\n        this.markers.push(marker);\n        this.map.setCenter(results[0].geometry.location);\n\n        console.log(results[0]);\n\n        //console.log(results[0].geometry.location);\n\n        //geoPosit(this.markers.push(marker));\n\n        google.maps.event.addListener(marker, 'dragend', function () {\n          geoPosit(marker.getPosition());\n        });\n\n        var geocoder;\n\n        var geoPosit = function geocodePosition(pos) {\n          geocoder = new google.maps.Geocoder();\n          geocoder.geocode({\n              latLng: pos\n            },\n              function (results, status) {\n                if (status == google.maps.GeocoderStatus.OK) {\n                  this.address = results[0].formatted_address;\n                  //console.log(results[0].formatted_address);\n                  console.log(results[0]);\n                  alert(JSON.stringify(results[0]));\n                }\n                else {\n                  console.log('Cannot determine address at this location.' + status);\n                }\n              }\n            );\n        }\n\n      }\n    })\n    \n  }\n\n  tryGeolocation(){\n    //this.clearMarkers();\n    \n    this.geolocation.getCurrentPosition().then((resp) => {\n      \n      let pos = {\n        lat: resp.coords.latitude,\n        lng: resp.coords.longitude\n      };\n      let marker = new google.maps.Marker({\n        position: pos,\n        map: this.map,\n        animation: google.maps.Animation.DROP,\n        title: 'Eu estou Aqui!',\n        draggable: true\n      });\n      this.markers.push(marker);\n      this.map.setCenter(pos);\n\n      ///geoPosit(marker.getPosition());\n\n      //console.log(resp);\n\n      this.getGeoencoder( resp.coords.latitude, resp.coords.longitude);\n\n      google.maps.event.addListener(marker, 'dragend', function () {\n        geoPosit(marker.getPosition());\n      });\n\n      var geocoder;\n\n      var geoPosit = function geocodePosition(pos) {\n        geocoder = new google.maps.Geocoder();\n        geocoder.geocode({\n            latLng: pos\n          },\n            function (results, status) {\n              if (status == google.maps.GeocoderStatus.OK) {\n                this.address = results[0].formatted_address;\n                //console.log(results[0].formatted_address);\n                console.log(results[0]);\n                alert(JSON.stringify(results[0]));\n              }\n              else {\n                console.log('Cannot determine address at this location.' + status);\n              }\n            }\n          );\n      }\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  getGeoencoder(latitude,longitude){\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, this.geoencoderOptions)\n    .then((result: NativeGeocoderReverseResult[]) => {\n      //this.geoAddress = this.generateAddress(result[0]);\n      //console.log(this.geoAddress);\n      //alert(JSON.stringify(this.geoAddress));\n      alert(JSON.stringify(result[0]));\n    })\n    .catch((error: any) => {\n      alert('Error getting location'+ JSON.stringify(error));\n    });\n  }\n\n  generateAddress(addressObj){\n    let obj = [];\n    let address = \"\";\n    for (let key in addressObj) {\n      obj.push(addressObj[key]);\n    }\n    obj.reverse();\n    for (let val in obj) {\n      if(obj[val].length)\n      address += obj[val]+', ';\n    }\n  return address.slice(0, -2);\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/exemplo2/exemplo2.ts"],"sourceRoot":""}